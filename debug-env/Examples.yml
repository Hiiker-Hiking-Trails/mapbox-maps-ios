---
name: Examples
configFiles:
  Debug: build/${PROJECT}/Apps/Configurations/base.xcconfig
  Release: build/${PROJECT}/Apps/Configurations/base.xcconfig
settings:
  configs:
    Debug:
      ENABLE_TESTABILITY: "YES"
      COPY_PHASE_STRIP: "NO"
    Release:
targets:
  Examples:
    type: application
    platform: iOS
    settings:
      base:
        ASSETCATALOG_COMPILER_APPICON_NAME: AppIcon
        ASSETCATALOG_COMPILER_GLOBAL_ACCENT_COLOR_NAME: AccentColor
        CODE_SIGN_STYLE: Automatic
        INFOPLIST_FILE: build/${PROJECT}/Apps/Examples/Examples/Info.plist
        LD_RUNPATH_SEARCH_PATHS: $(inherited) @executable_path/Frameworks
        PRODUCT_BUNDLE_IDENTIFIER: com.mapbox.Examples
        PRODUCT_NAME: $(TARGET_NAME)
        TARGETED_DEVICE_FAMILY: 1,2
    sources:
      - path: build/${PROJECT}/Apps/Examples/Examples/
    dependencies:
      - framework: build/mapbox-gl-native-internal/build/ios/lib/Debug/MapboxCommon.framework
      - target: MapboxCoreMaps/MapboxCoreMaps
      - target: Turf/Turf
      - target: MME/MapboxMobileEvents
      - target: MapboxMaps/MapboxMaps
    postBuildScripts:
      - path: build/${PROJECT}/scripts/insert_access_token.sh
        name: Insert Mapbox access token
  ExamplesTests:
    type: bundle.unit-test
    platform: iOS
    settings:
      base:
        BUNDLE_LOADER: $(TEST_HOST)
        TEST_HOST: $(BUILT_PRODUCTS_DIR)/Examples.app/Examples
    sources:
      - path: build/${PROJECT}/Apps/Examples/ExamplesTests/
    dependencies:
      - target: Examples
projectReferences:
  Turf:
    path: ./build/turf-swift/Turf.xcodeproj
  MME:
    path: ./build/mapbox-events-ios/MapboxMobileEvents.xcodeproj
  MapboxCoreMaps:
    path: ./build/mapbox-gl-native-internal/build/ios/Mapbox GL Native.xcodeproj
  MapboxMaps:
    path: ./MapboxMaps.xcodeproj
